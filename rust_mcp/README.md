**在 MCP（Model Context Protocol，模型上下文协议）框架中，tools、prompt 和 resources 是三个核心组成部分，它们共同协作，使 AI 能够更智能、高效、安全地与用户交互，并完成复杂任务。下面分别解释它们在 MCP 服务中的作用，以及在 AI 对话系统中的角色与效果。**


# 1、Tools
**定义**：Tools 是 AI 可以调用的外部能力或函数，用于执行特定任务（如查询数据库、调用 API、执行代码、发送邮件等）。

MCP 中的作用：
- 提供“行动能力”，让模型不仅能“说”，还能“做”。
- 在 MCP 协议中，tools 通常以结构化方式注册（如 JSON Schema），供模型在推理时动态选择和调用。
- 支持工具链（tool chaining）和条件调用，实现复杂工作流。

# 2、Prompt
**定义**：Prompt 是引导模型行为的指令或上下文，包括系统提示（system prompt）、用户输入、对话历史等。

MCP 中的作用：
- 定义模型的角色、目标、约束和行为规范。
- 在 MCP 中，prompt 通常被结构化为“上下文模板”，动态注入用户请求、工具描述、资源信息等。
- 控制模型何时调用工具、如何解释结果、如何回应用户。

## 2.1、SystemPrompt
**作用**：定义 AI 的角色、行为准则、能力边界、输出格式等全局指令。
特点：
- 通常由开发者或系统设定，对用户不可见（或部分可见）。
- 在整个对话会话中保持不变（除非主动更新）。
- 是模型“人格”和“规则”的来源。

核心价值：控制模型的“身份”和“行为规范”，是安全、一致、可控对话的基础。

## 2.2、UserPrompt
**作用**：代表用户当前的输入或请求，是模型需要响应的直接任务。
特点：
- 由用户在每轮对话中提供。
- 内容多变，可以是问题、指令、陈述等。
- 是触发模型推理的“输入信号”。

核心价值：表达用户意图，驱动对话进展。

## 2.3、AssistantPrompt
**作用**：记录模型在上一轮（或多轮）中生成的回复内容，用于维持对话历史和上下文连贯性。
特点：
- 由模型生成，系统自动记录。
- 在多轮对话中作为历史上下文的一部分，帮助模型理解对话脉络。
- 通常不会由用户直接编辑。

核心价值：构建对话记忆，避免重复提问或逻辑断裂。

## 2.4、示例
```json
[{"role": "system", "content": "你是一个电商客服助手..."},
 {"role": "user",   "content": "我的订单还没发货，能帮我查一下吗？"},
 {"role": "assistant", "content": "请提供您的订单号，我将为您查询物流状态。"},
 {"role": "user",   "content": "订单号是 #123456。"}]
```
# 3、Resources
**定义**：Resources 是 AI 在对话中可访问的静态或动态数据资产，如知识库、文档、用户配置、会话状态、上下文记忆等。

MCP 中的作用：
- 为模型提供“背景知识”或“个性化上下文”。
- 在 MCP 中，resources 通常通过检索增强（RAG）或上下文注入方式提供给模型。
- 可与 tools 结合（如工具查询数据库后更新资源缓存）。


# 4、三者协同工作流程（MCP 典型交互）
1. 用户输入 → 触发 MCP 服务。
2. Prompt 引擎：加载系统提示 + 用户输入 + 历史对话。
3. Resource 注入：检索相关知识/用户数据，注入上下文。
4. Tool 注册：声明当前可用的工具列表（含功能描述）。
5. 模型推理：
   - 基于 prompt 理解任务；
   - 利用 resources 获取背景信息；
   - 决定是否调用 tool（如需要实时数据）。
   - Tool 执行 → 返回结果 → 更新 resources（如缓存）。
   - 生成最终回复 → 返回用户。

# 5、总结
|组件|在MCP中的作用|在对话中的角色|核心价值|
|--|--|--|--|
|Tools|提供可执行能力|执行器|让 AI 能“做事”|
|Prompt|控制行为逻辑|指令中枢|让 AI “知道怎么做”|
|Resources|提供上下文数据|记忆与知识库|让 AI “记得住、懂你”|